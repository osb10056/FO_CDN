{"version":3,"sources":["assets/ink/service/js/ui_service_ink.js"],"names":["showcaseMainSwiperInit","$","length","autoplayStop","container","swiper","btnAutoControl","hasClass","addClass","find","html","autoplay","stop","autoplayStart","removeClass","start","each","showcaseMainWrap","this","showcaseSwiperContainer","totalLen","showcaseMainSwiper","CustomSwiper","slidesPerView","speed","observer","observeParents","initialSlide","loop","navigation","nextEl","prevEl","pagination","el","type","renderFraction","currentClass","totalClass","formatFractionCurrent","number","css","KyoboBookPub","ink","setPrependZero","formatFractionTotal","on","touchEnd","$el","pagingTypeCheck","tg","undefined","attr","remove","firstActiveTab","eq","firstActiveSwiper","activeBanner","activeBannerSwiper","event","ui","updateContainer","newPanel","oldContainer","oldPanel","updateSwiper","update","oldSwiper","slideTo","prodNavSwiperEl","priceCutSwiperEl","sideBannerSwiperInit","templateSwiperInit","templateCommonSwiperEl","swiperControlEl","closest","templateNavSwiperEl","that","galleryTopEl","galleryThumbsEl","relatedBookThumbs","effect","touchRatio","relatedBookTop","realIndex","watchSlidesVisibility","watchSlidesProgress","actIdx","index","thumbs","activeIndex","siblings","activeIdx","outerHeight","observeSlideChildren","coverflowEffect","rotate","stretch","depth","scale","modifier","slideShadows","grabCursor","centeredSlides","text","autoRollingSwiperInit","autoPlaySwiperEl","autoPlaySwiper","init","delay","running","burstBannerOff","setCommentList","reviewContents","reviewText","textOverflow","btnToggle","scrollHeight","height","off","imgTg","checkImagePortrait","setSwitchListBtn"],"mappings":"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","file":"ui_service_ink.min.js","sourcesContent":["/*\r\n * name : ui_service_ink.js\r\n * desc : 상품전시 전용 실행 자바스크립트\r\n * writer : glim\r\n * create : 2021/12/24\r\n * update :\r\n * -\r\n */\r\n\r\n$(function(){\r\n\tshowcaseMainSwiperInit();\r\n\tsideBannerSwiperInit();\r\n\ttemplateSwiperInit();\r\n\tautoRollingSwiperInit();\r\n\tburstBannerOff();\r\n\tsetCommentList();\r\n\r\n\t// 리스트형보기/썸네일형보기 토글 버튼 이벤트 설정\r\n\tKyoboBookPub.ink.setSwitchListBtn(function(tg){\r\n\t\tif(tg.hasClass('switch_prod_wrap')){\r\n\t\t\tif(tg.hasClass('view_type_img')){\r\n\t\t\t\ttg.find('.prod_area').removeClass('horizontal');\r\n\t\t\t}else{\r\n\t\t\t\ttg.find('.prod_area').addClass('horizontal');\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t// 리뷰 내 리뷰 썸네일 swiper\r\n\t$('.comment_swiper_wrap .swiper-container').each(function(){\r\n\t\tif ($(this).find('.swiper-slide').length > 2){\r\n\t\t\tvar reviewSwiper = new CustomSwiper(this, {\r\n\t\t\t\tobserver: true,\r\n\t\t\t\tobserveParents: true,\r\n\t\t\t\tslidesPerView: 'auto',\r\n\t\t\t\tnavigation: {\r\n\t\t\t\t\tnextEl: $(this).siblings('.swiper-button-next'),\r\n\t\t\t\t\tprevEl: $(this).siblings('.swiper-button-prev'),\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t$(this).siblings('.swiper-button-next, .swiper-button-prev').css('display', 'none');\r\n\t\t}\r\n\t});\r\n});\r\n\r\n// 쇼케이스 메인 스와이퍼 init\r\nfunction showcaseMainSwiperInit(){\r\n\tif($('.showcase_main_banner_wrap .showcase_main_swiper_wrap').length > 0){\r\n\t\t$('.showcase_main_swiper_wrap').each(function(){\r\n\t\t\tvar showcaseMainWrap = $(this);\r\n\t\t\tvar showcaseSwiperContainer = $('.swiper-container', showcaseMainWrap);\r\n\r\n\t\t\tif (showcaseSwiperContainer.find('.swiper-slide').length > 1){\r\n\t\t\t\tvar totalLen = showcaseSwiperContainer.find('.swiper-slide').length;\r\n\t\t\t\tvar paginationWidth = 70;\r\n\t\t\t\tvar showcaseMainSwiper = new CustomSwiper(showcaseSwiperContainer, {\r\n\t\t\t\t\tslidesPerView: 1,\r\n\t\t\t\t\tspeed: 800,\r\n\t\t\t\t\tobserver: true,\r\n\t\t\t\t\tobserveParents: true,\r\n\t\t\t\t\tinitialSlide: 0,\r\n\t\t\t\t\tloop: true,\r\n\t\t\t\t\tnavigation: {\r\n\t\t\t\t\t\tnextEl: $('.swiper-button-next', showcaseSwiperContainer)[0],\r\n\t\t\t\t\t\tprevEl: $('.swiper-button-prev', showcaseSwiperContainer)[0],\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpagination: {\r\n\t\t\t\t\t\tel: $('.swiper-pagination', showcaseSwiperContainer)[0],\r\n\t\t\t\t\t\ttype: 'fraction',\r\n\t\t\t\t\t\trenderFraction: function(currentClass, totalClass){\r\n\t\t\t\t\t\t\treturn '<span class=\"' + currentClass + '\"></span>' + '<span class=\"progress_bar\"><span class=\"progress_fill\"></span></span>' + '<span class=\"' + totalClass + '\"></span>';\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tformatFractionCurrent: function (number) {\r\n\t\t\t\t\t\t\t$('.progress_fill', showcaseSwiperContainer).css('width', (paginationWidth / totalLen) * number);\r\n\t\t\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tformatFractionTotal: function (number) {\r\n\t\t\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\ton: {\r\n\t\t\t\t\t\ttouchEnd: function () {\r\n\t\t\t\t\t\t\tvar swiper = this;\r\n\t\t\t\t\t\t\tswiper.autoplay.stop();\r\n\t\t\t\t\t\t\tswiper.$el.find('.btn_auto_control').addClass('pause');\r\n\t\t\t\t\t\t\tswiper.$el.find('.btn_auto_control .hidden').html('재생');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// auto play swiper - prev, next 버튼 클릭 event\r\n\t\t\t\t$('.swiper-button-next, .swiper-button-prev', showcaseSwiperContainer).on('click', function(){\r\n\t\t\t\t\tautoplayStop(showcaseSwiperContainer, showcaseMainSwiper)\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// auto play swiper - play, pause control 버튼 클릭 event\r\n\t\t\t\t$('.btn_auto_control', showcaseSwiperContainer).on('click', function () {\r\n\t\t\t\t\tif ($(this).hasClass('pause')) {\r\n\t\t\t\t\t\t$(this).removeClass('pause');\r\n\t\t\t\t\t\t$(this).find('.hidden').html('멈춤');\r\n\t\t\t\t\t\tshowcaseMainSwiper.autoplay.start();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(this).addClass('pause');\r\n\t\t\t\t\t\t$(this).find('.hidden').html('재생');\r\n\t\t\t\t\t\tshowcaseMainSwiper.autoplay.stop();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// swiper init, change 시, pagination color check\r\n\t\t\t\tpagingTypeCheck(showcaseSwiperContainer.find('.swiper-slide.swiper-slide-active'));\r\n\r\n\t\t\t\tshowcaseMainSwiper.on('slideChange', function(){\r\n\t\t\t\t\tpagingTypeCheck(showcaseSwiperContainer.find('.swiper-slide.swiper-slide-next'));\r\n\t\t\t\t});\r\n\r\n\t\t\t\tfunction pagingTypeCheck(tg){\r\n\t\t\t\t\tvar pagingType = tg.attr('data-paging-white');\r\n\t\t\t\t\tif(pagingType !== undefined){\r\n\t\t\t\t\t\t$('.swiper_progress_control_area', showcaseSwiperContainer).removeClass('type_black');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$('.swiper_progress_control_area', showcaseSwiperContainer).addClass('type_black');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t$('.swiper_control_floating_box', showcaseSwiperContainer).remove();\r\n\t\t\t\t$('.swiper_progress_control_area', showcaseSwiperContainer).remove();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfunction autoplayStop(container, swiper){\r\n\t\t\tvar btnAutoControl = $('.btn_auto_control', container);\r\n\r\n\t\t\tif (btnAutoControl.hasClass('pause')) return;\r\n\r\n\t\t\tbtnAutoControl.addClass('pause');\r\n\t\t\tbtnAutoControl.find('.hidden').html('재생');\r\n\t\t\tswiper.autoplay.stop();\r\n\t\t}\r\n\r\n\t\tfunction autoplayStart(container, swiper){\r\n\t\t\tvar btnAutoControl = $('.btn_auto_control', container);\r\n\r\n\t\t\tbtnAutoControl.removeClass('pause');\r\n\t\t\tbtnAutoControl.find('.hidden').html('멈춤');\r\n\t\t\tswiper.autoplay.start();\r\n\t\t}\r\n\r\n\t\tif($('.showcase_main_banner_wrap .tab_wrap').length > 0){\r\n\t\t\tvar firstActiveTab = $('.showcase_main_banner_wrap .tab_wrap .tab_content').eq(0).find('.showcase_main_swiper_wrap');\r\n\t\t\tvar firstActiveSwiper = firstActiveTab.find('.swiper-container')[0].swiper;\r\n\t\t\tif (firstActiveSwiper !== undefined)  autoplayStart(firstActiveTab, firstActiveSwiper);\r\n\t\t}else{\r\n\t\t\tvar activeBanner = $('.showcase_main_banner_wrap .showcase_main_swiper_wrap');\r\n\t\t\tvar activeBannerSwiper = $('.showcase_main_banner_wrap .showcase_main_swiper_wrap').find('.swiper-container')[0].swiper;\r\n\t\t\tif (activeBannerSwiper !== undefined) autoplayStart(activeBanner, activeBannerSwiper);\r\n\t\t}\r\n\r\n\t\t// 탭 active 시, 자동롤링 auto play/stop\r\n\t\t$('.showcase_main_banner_wrap .tab_wrap').on('tabsactivate', function(event, ui){\r\n\t\t\tvar updateContainer = $(ui.newPanel).find('.showcase_main_swiper_wrap');\r\n\t\t\tvar oldContainer = $(ui.oldPanel).find('.showcase_main_swiper_wrap');\r\n\r\n\t\t\tif(updateContainer.find('.swiper-container .swiper-slide').length > 1){\r\n\t\t\t\tvar updateSwiper = updateContainer.find('.swiper-container')[0].swiper;\r\n\r\n\t\t\t\tupdateSwiper.update();\r\n\t\t\t\tautoplayStart(updateContainer, updateSwiper);\r\n\t\t\t}\r\n\r\n\t\t\tif(oldContainer.find('.swiper-container .swiper-slide').length > 1) {\r\n\t\t\t\tvar oldSwiper = oldContainer.find('.swiper-container')[0].swiper;\r\n\t\t\t\tautoplayStop(oldContainer, oldSwiper);\r\n\t\t\t\toldSwiper.slideTo(1, 0);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// 상품 스와이퍼 type arrow\r\n\t\tif($('.prod_swiper_wrap.outside_nav').length > 0) {\r\n\t\t\t$('.prod_swiper_wrap.outside_nav').each(function () {\r\n\t\t\t\tvar prodNavSwiperEl = $(this);\r\n\t\t\t\tif ($('.swiper-slide', prodNavSwiperEl).length > 1) {\r\n\t\t\t\t\tvar prodNavSwiper = new CustomSwiper($('.swiper-container', prodNavSwiperEl), {\r\n\t\t\t\t\t\tslidesPerView: 'auto',\r\n\t\t\t\t\t\tspeed: 500,\r\n\t\t\t\t\t\tnavigation: {\r\n\t\t\t\t\t\t\tnextEl: $('.swiper-button-next', prodNavSwiperEl)[0],\r\n\t\t\t\t\t\t\tprevEl: $('.swiper-button-prev', prodNavSwiperEl)[0],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$('.swiper-button-next', prodNavSwiperEl).remove();\r\n\t\t\t\t\t$('.swiper-button-prev', prodNavSwiperEl).remove();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tif($('.recommend_prod_wrap').length > 0) {\r\n\t\t$('.recommend_prod_wrap').each(function () {\r\n\t\t\tvar priceCutSwiperEl = $(this);\r\n\t\t\tif ($('.swiper-slide', priceCutSwiperEl).length > 1) {\r\n\t\t\t\tvar priceCutSwiper = new CustomSwiper($('.swiper-container', priceCutSwiperEl), {\r\n\t\t\t\t\tslidesPerView: 'auto',\r\n\t\t\t\t\tspeed: 500,\r\n\t\t\t\t\tnavigation: {\r\n\t\t\t\t\t\tnextEl: $('.swiper-button-next', priceCutSwiperEl)[0],\r\n\t\t\t\t\t\tprevEl: $('.swiper-button-prev', priceCutSwiperEl)[0],\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\t$('.swiper-button-next', priceCutSwiperEl).remove();\r\n\t\t\t\t$('.swiper-button-prev', priceCutSwiperEl).remove();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\n// 템플릿 a 사이드배너 스와이퍼\r\nfunction sideBannerSwiperInit(){\r\n\t$('.recommend_prod_swiper').each(function(){\r\n\t\tvar tg = $(this);\r\n\t\tif(tg.find('.swiper-container .swiper-slide').length > 0){\r\n\t\t\tvar sideBannerSwiper = new CustomSwiper(tg.find('.swiper-container'), {\r\n\t\t\t\tspeed: 500,\r\n\t\t\t\tnavigation: {\r\n\t\t\t\t\tnextEl: tg.find('.swiper_control_box .swiper-button-next')[0],\r\n\t\t\t\t\tprevEl: tg.find('.swiper_control_box .swiper-button-prev')[0],\r\n\t\t\t\t},\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\tel: tg.find('.swiper_control_box .swiper-pagination')[0],\r\n\t\t\t\t\ttype: 'fraction',\r\n\t\t\t\t\tformatFractionCurrent: function (number) {\r\n\t\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tformatFractionTotal: function (number) {\r\n\t\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\ttg.find('.swiper_control_box').remove();\r\n\t\t}\r\n\t})\r\n}\r\n\r\n// 템플릿 b 개별 스와이퍼\r\nfunction templateSwiperInit(){\r\n\t// 공통 swiper\r\n\t// 조건 - perView : 1 / navigation, pagination 기능을 가지고 있음(컨트롤러 구조는 swiper_control_box 을 공통으로 가져감)\r\n\tif($('.template_common_swiper').length > 0) {\r\n\t\t$('.template_common_swiper').each(function () {\r\n\t\t\tvar templateCommonSwiperEl = $(this);\r\n\t\t\tvar swiperControlEl = templateCommonSwiperEl.closest('.template_col').find('.swiper_control_box');\r\n\t\t\tif ($('.swiper-slide', templateCommonSwiperEl).length > 1) {\r\n\t\t\t\tvar templateCommonSwiper = new CustomSwiper(templateCommonSwiperEl, {\r\n\t\t\t\t\tspeed: 500,\r\n\t\t\t\t\tnavigation: {\r\n\t\t\t\t\t\tnextEl: swiperControlEl.find('.swiper-button-next')[0],\r\n\t\t\t\t\t\tprevEl: swiperControlEl.find('.swiper-button-prev')[0],\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpagination: {\r\n\t\t\t\t\t\tel: swiperControlEl.find('.swiper-pagination')[0],\r\n\t\t\t\t\t\ttype: 'fraction',\r\n\t\t\t\t\t\tformatFractionCurrent: function (number) {\r\n\t\t\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tformatFractionTotal: function (number) {\r\n\t\t\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tswiperControlEl.remove();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 공통 swiper\r\n\t// 조건 - perView : 1 / navigation 기능을 가지고 있음(natigation 버튼 구조는 swiper-container 내부에 위치함)\r\n\tif($('.template_nav_swiper').length > 0) {\r\n\t\t$('.template_nav_swiper').each(function () {\r\n\t\t\tvar templateNavSwiperEl = $(this);\r\n\t\t\tif ($('.swiper-slide', templateNavSwiperEl).length > 1) {\r\n\t\t\t\tvar templateNavSwiper = new CustomSwiper($('.swiper-container', templateNavSwiperEl), {\r\n\t\t\t\t\tspeed: 500,\r\n\t\t\t\t\tnavigation: {\r\n\t\t\t\t\t\tnextEl: templateNavSwiperEl.find('.swiper-button-next')[0],\r\n\t\t\t\t\t\tprevEl: templateNavSwiperEl.find('.swiper-button-prev')[0],\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\ttemplateNavSwiperEl.find('.swiper-button-next').remove();\r\n\t\t\t\ttemplateNavSwiperEl.find('.swiper-button-prev').remove();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 상품 대형_01_3x1\r\n\tif($('.expand_related_book_wrap').length > 0){\r\n\t\t$('.expand_related_book_wrap').each(function(){\r\n\t\t\tvar that = $(this);\r\n\t\t\tvar galleryTopEl = $('.thumb_swiper_wrap', that);\r\n\t\t\tvar galleryThumbsEl = $('.detail_swiper_wrap', that);\r\n\r\n\t\t\tif($('.swiper-slide', galleryThumbsEl).length > 1) {\r\n\t\t\t\tvar relatedBookThumbs = new CustomSwiper($('.swiper-container', galleryThumbsEl), {\r\n\t\t\t\t\teffect: 'fade',\r\n\t\t\t\t\ttouchRatio: 0, //드래그 금지\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif($('.swiper-slide', galleryTopEl).length > 1){\r\n\t\t\t\tvar relatedBookTop = new CustomSwiper($('.swiper-container', galleryTopEl), {\r\n\t\t\t\t\tslidesPerView: 'auto',\r\n\t\t\t\t\tnavigation: {\r\n\t\t\t\t\t\tnextEl: $('.swiper-button-next', that)[0],\r\n\t\t\t\t\t\tprevEl: $('.swiper-button-prev', that)[0],\r\n\t\t\t\t\t},\r\n\t\t\t\t\tloop: true,\r\n\t\t\t\t\ttouchRatio: 0, //드래그 금지\r\n\t\t\t\t});\r\n\r\n\t\t\t\trelatedBookTop.on('slideChange', function () {\r\n\t\t\t\t\trelatedBookThumbs.slideTo(relatedBookTop.realIndex);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 상품 대형_02_2x2\r\n\tif($('.related_book_wrap').length > 0){\r\n\t\t$('.related_book_wrap').each(function(){\r\n\t\t\tvar that = $(this);\r\n\t\t\tvar galleryTopEl = $('.detail_swiper_wrap', that);\r\n\t\t\tvar galleryThumbsEl = $('.thumb_swiper_wrap', that);\r\n\r\n\t\t\tif($('.swiper-slide', galleryThumbsEl).length > 1) {\r\n\t\t\t\tvar relatedBookThumbs = new CustomSwiper($('.swiper-container', galleryThumbsEl), {\r\n\t\t\t\t\tslidesPerView: 'auto',\r\n\t\t\t\t\twatchSlidesVisibility: true,\r\n\t\t\t\t\twatchSlidesProgress: true,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$('.btn_thumb', galleryThumbsEl).on('click', function(){\r\n\t\t\t\t\tvar actIdx = $(this).closest('.swiper-slide').index();\r\n\t\t\t\t\trelatedBookTop.slideTo(actIdx);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tif($('.swiper-slide', galleryTopEl).length > 1){\r\n\t\t\t\tvar relatedBookTop = new CustomSwiper($('.swiper-container', galleryTopEl), {\r\n\t\t\t\t\teffect: 'fade',\r\n\t\t\t\t\tthumbs: {\r\n\t\t\t\t\t\tswiper: relatedBookThumbs,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tnavigation: {\r\n\t\t\t\t\t\tnextEl: $('.swiper-button-next', that)[0],\r\n\t\t\t\t\t\tprevEl: $('.swiper-button-prev', that)[0],\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpagination: {\r\n\t\t\t\t\t\tel: $('.swiper-pagination', that)[0],\r\n\t\t\t\t\t\ttype: 'progressbar',\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\r\n\t\t\t\trelatedBookTop.on('slideChange', function () {\r\n\t\t\t\t\trelatedBookThumbs.slideTo(relatedBookTop.activeIndex);\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 상품 대형_03_2x2(책 3개까지만 등록)\r\n\tif($('.few_related_book_wrap').length > 0){\r\n\t\t$('.few_related_book_wrap').each(function(){\r\n\t\t\tvar that = $(this);\r\n\t\t\tvar galleryTopEl = $('.banner_swiper_wrap', that);\r\n\t\t\tvar galleryThumbsEl = $('.book_info_swiper_wrap', that);\r\n\r\n\t\t\tif($('.swiper-slide', galleryThumbsEl).length > 1) {\r\n\t\t\t\tvar relatedBookThumbs = new CustomSwiper($('.swiper-container', galleryThumbsEl), {\r\n\t\t\t\t\teffect: 'fade',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif($('.swiper-slide', galleryTopEl).length > 1){\r\n\t\t\t\tvar relatedBookTop = new CustomSwiper($('.swiper-container', galleryTopEl), {\r\n\t\t\t\t\teffect: 'fade',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\trelatedBookTop.on('slideChange', function () {\r\n\t\t\t\trelatedBookThumbs.slideTo(relatedBookTop.activeIndex);\r\n\t\t\t});\r\n\r\n\t\t\trelatedBookThumbs.on('slideChange', function () {\r\n\t\t\t\trelatedBookTop.slideTo(relatedBookThumbs.activeIndex);\r\n\t\t\t});\r\n\r\n\t\t\t$('.book_thumb_wrap .btn_thumb', that).on('click', function(){\r\n\t\t\t\t$(this).closest('.thumb_item').addClass('active');\r\n\t\t\t\t$(this).closest('.thumb_item').siblings().removeClass('active');\r\n\t\t\t\tvar activeIdx = $(this).closest('.thumb_item').index();\r\n\t\t\t\trelatedBookThumbs.slideTo(activeIdx);\r\n\t\t\t\trelatedBookTop.slideTo(activeIdx);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// 상품 대형_04_2x2\r\n\tif($('.thumb_related_book_wrap').length > 0){\r\n\t\t$('.thumb_related_book_wrap').each(function(){\r\n\t\t\tvar that = $(this);\r\n\t\t\tvar galleryTopEl = $('.banner_swiper_wrap', that);\r\n\t\t\tvar galleryThumbsEl = $('.book_info_swiper_wrap', that);\r\n\t\t\tvar thumbCurHeight = galleryThumbsEl.find('.swiper-slide').eq(0).outerHeight();\r\n\t\t\tvar relatedBookThumbs;\r\n\r\n\t\t\tif($('.swiper-slide', galleryThumbsEl).length > 1) {\r\n\t\t\t\trelatedBookThumbs = new CustomSwiper($('.swiper-container', galleryThumbsEl), {\r\n\t\t\t\t\teffect: 'fade',\r\n\t\t\t\t\t// autoHeight: true,\r\n\t\t\t\t\tobserver: true,\r\n\t\t\t\t\tobserveSlideChildren: true,\r\n\t\t\t\t\tobserveParents: true,\r\n\t\t\t\t\ttouchRatio: 0, //드래그 금지\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif($('.swiper-slide', galleryTopEl).length > 1){\r\n\t\t\t\tvar relatedBookTop = new CustomSwiper($('.swiper-container', galleryTopEl), {\r\n\t\t\t\t\t// autoHeight: true,\r\n\t\t\t\t\teffect: 'coverflow',\r\n\t\t\t\t\tcoverflowEffect: {\r\n\t\t\t\t\t\trotate: 0,\r\n\t\t\t\t\t\tstretch: 0,\r\n\t\t\t\t\t\tdepth: 0,\r\n\t\t\t\t\t\tscale: 1,\r\n\t\t\t\t\t\tmodifier: 1,\r\n\t\t\t\t\t\tslideShadows: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tnavigation: {\r\n\t\t\t\t\t\tnextEl: $('.swiper-button-next', galleryTopEl)[0],\r\n\t\t\t\t\t\tprevEl: $('.swiper-button-prev', galleryTopEl)[0],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t/*\r\n\t\t\t\t\teffect: \"coverflow\",\r\n\t\t\t\t\t  initialSlide: 1,\r\n\t\t\t\t\t  grabCursor: true,\r\n\t\t\t\t\t  loop: true,\r\n\t\t\t\t\t  centeredSlides: true,\r\n\t\t\t\t\t  slidesPerView: \"auto\",\r\n\t\t\t\t\t  coverflowEffect: {\r\n\t\t\t\t\t  rotate: 0,\r\n\t\t\t\t\t  stretch: 0,\r\n\t\t\t\t\t  depth: 0,\r\n\t\t\t\t\t  scale: 0.5,\r\n\t\t\t\t\t  modifier: 1,\r\n\t\t\t\t\t  slideShadows: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t*/\r\n\t\t\t\t\tslidesPerView: 'auto',\r\n\t\t\t\t\tgrabCursor: true,\r\n\t\t\t\t\tloop: true,\r\n\t\t\t\t\tcenteredSlides: true,\r\n\t\t\t\t\t// followFinger: false,\r\n\t\t\t\t\t// longSwipes: false,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\trelatedBookTop.on('slideChange', function () {\r\n\t\t\t\trelatedBookThumbs.slideTo(relatedBookTop.realIndex);\r\n\r\n\t\t\t\tif(galleryThumbsEl.find('.auto_overflow_wrap').hasClass('active')) {\r\n\t\t\t\t\tgalleryThumbsEl.find('.auto_overflow_wrap').removeClass('active');\r\n\t\t\t\t\tgalleryThumbsEl.find('.auto_overflow_wrap .btn_more_body .text').text('펼치기');\r\n\t\t\t\t}\r\n\r\n\t\t\t\trelatedBookThumbs.update();\r\n\t\t\t});\r\n\r\n\t\t\t$('.btn_more_body', that).on('click.uiRelatedBook', function(){\r\n\t\t\t\trelatedBookThumbs.update();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\n// 상단 자동롤링 배너\r\nfunction autoRollingSwiperInit(){\r\n\tvar autoPlaySwiperEl = $('.showcase_banner_swiper_wrap');\r\n\r\n\tif( $('.swiper-slide', autoPlaySwiperEl).length > 1 ) {\r\n\t\tvar autoPlaySwiper = new CustomSwiper(autoPlaySwiperEl, {\r\n\t\t\tinit: false,\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspeed: 800,\r\n\t\t\tobserver: true,\r\n\t\t\tobserveParents: true,\r\n\t\t\tinitialSlide: 0,\r\n\t\t\tloop: true,\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 3000,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: $('.swiper_auto_control_area .swiper-button-next', autoPlaySwiperEl)[0],\r\n\t\t\t\tprevEl: $('.swiper_auto_control_area .swiper-button-prev', autoPlaySwiperEl)[0],\r\n\t\t\t},\r\n\t\t\tpagination: {\r\n\t\t\t\tel: $('.swiper_auto_control_area .swiper-pagination', autoPlaySwiperEl)[0],\r\n\t\t\t\ttype: \"fraction\",\r\n\t\t\t\tformatFractionCurrent: function (number) {\r\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\r\n\t\t\t\t},\r\n\t\t\t\tformatFractionTotal: function (number) {\r\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\ton: {\r\n\t\t\t\ttouchEnd: function () {\r\n\t\t\t\t\tvar swiper = this;\r\n\t\t\t\t\tswiper.autoplay.stop();\r\n\t\t\t\t\tswiper.$el.find('.btn_auto_control').addClass('pause');\r\n\t\t\t\t\tswiper.$el.find('.btn_auto_control .hidden').html('play');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t});\r\n\t\tautoPlaySwiper.init();\r\n\r\n\t\tif(autoPlaySwiper.autoplay.running){\r\n\t\t\t// auto play swiper - prev, next 버튼 클릭 event\r\n\t\t\t$('.swiper-button-next, .swiper-button-prev', autoPlaySwiperEl).on('click', function(){\r\n\t\t\t\tif ($('.btn_auto_control', autoPlaySwiperEl).hasClass('pause')) return;\r\n\r\n\t\t\t\t$('.btn_auto_control', autoPlaySwiperEl).addClass('pause');\r\n\t\t\t\t$('.btn_auto_control', autoPlaySwiperEl).find('.hidden').html('재생');\r\n\t\t\t\tautoPlaySwiper.autoplay.stop();\r\n\t\t\t});\r\n\r\n\t\t\t// auto play swiper - play, pause control 버튼 클릭 event\r\n\t\t\t$('.btn_auto_control', autoPlaySwiperEl).on('click', function () {\r\n\t\t\t\tif ($(this).hasClass('pause')) {\r\n\t\t\t\t\t$(this).removeClass('pause');\r\n\t\t\t\t\t$(this).find('.hidden').html('멈춤');\r\n\t\t\t\t\tautoPlaySwiper.autoplay.start();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(this).addClass('pause');\r\n\t\t\t\t\t$(this).find('.hidden').html('재생');\r\n\t\t\t\t\tautoPlaySwiper.autoplay.stop();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}else{\r\n\t\t$('.swiper_auto_control_area', autoPlaySwiperEl).remove();\r\n\t}\r\n}\r\n\r\n// 돌출형 배너 닫기\r\nfunction burstBannerOff(){\r\n\t$('.burst_banner_wrap .btn_burst_close').on('click', function (){\r\n\t\t$('.burst_banner_wrap').addClass('banner_hidden');\r\n\t});\r\n}\r\n\r\n// 리뷰(댓글) 목록\r\nfunction setCommentList(){\r\n\tvar reviewContents, reviewText, contentsOverflow, textOverflow, btnToggle;\r\n\tif ($('.comment_wrap').closest('.dialog_wrap.dialog_review').length > 0) return false; // 리뷰 팝업 내에선 실행 X\r\n\r\n\tif($('.comment_wrap .comment_item').length > 0){\r\n\t\t$('.comment_wrap .comment_item').each(function(){\r\n\t\t\tvar that = $(this);\r\n\t\t\tbtnToggle = $(this).find('.comment_footer .btn_more_body');\r\n\t\t\treviewContents = $(this).find('.comment_contents .comment_contents_inner');\r\n\r\n\t\t\t// 리뷰 목록 toggle overflow\r\n\t\t\tif (reviewContents.length > 0) {\r\n\t\t\t\treviewText = reviewContents.find('.comment_text');\r\n\t\t\t\ttextOverflow = reviewText[0].scrollHeight > reviewText.height();\r\n\t\t\t\tcontentsOverflow = reviewContents[0].scrollHeight > reviewContents.height();\r\n\r\n\t\t\t\t// console.log($(this).index(), 'Contents : ', reviewContents[0].scrollHeight, reviewContents.height(), contentsOverflow, '///', 'Text : ', reviewText[0].scrollHeight, reviewText.height(), textOverflow);\r\n\t\t\t\tif(contentsOverflow || textOverflow) {\r\n\t\t\t\t\tthat.addClass('overflow');\r\n\r\n\t\t\t\t\tbtnToggle.off('click').on('click', function(){\r\n\t\t\t\t\t\tif(that.hasClass('active')){\r\n\t\t\t\t\t\t\tthat.removeClass('active');\r\n\t\t\t\t\t\t\t$(this).removeClass('active').find('.text').text('펼치기');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.addClass('active');\r\n\t\t\t\t\t\t\t$(this).addClass('active').find('.text').text('접기');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.removeClass('overflow');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 리뷰 이미지 비율 체크\r\n\t\t\t$(this).find('.comment_swiper_wrap .portrait_img_box').each(function(){\r\n\t\t\t\tvar imgTg = $(this);\r\n\t\t\t\tKyoboBookPub.ink.checkImagePortrait(imgTg);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\n"]}