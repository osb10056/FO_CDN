{"version":3,"sources":["assets/ink/product/js/ui_product_ink.js"],"names":["prodInfoThumbSwiper","prodThumbSwiper","prodThumbContainer","$","each","imgTg","this","imgContainer","closest","KyoboBookPub","ink","checkImagePortrait","hasClass","blurify","images","find","blur","mode","length","addClass","CustomSwiper","init","slidesPerView","effect","navigation","nextEl","prevEl","pagination","el","type","formatFractionCurrent","number","setPrependZero","formatFractionTotal","on","activeIndex","removeClass","siblings","slideTo","remove","mouseenter","mouseleave","reviewTabAnchor","reviewOffsetTop","Math","floor","offset","top","console","log","stop","animate","scrollTop","setProdDetailAnchor","_tabLinks","optionSelectBox","text","event","targetId","offsetTop","preventDefault","currentTarget","getAttribute","observer","MutationObserver","mutations","forEach","mutation","target","currentClassList","attributeName","classList","value","dataset","prevClass","parent","eq","document","querySelectorAll","observe","attributes","setProdTitleMoreBtn","overflowEl","overflowElCnt","index","setCommentList","reviewContents","reviewText","contentsOverflow","textOverflow","btnToggle","that","scrollHeight","height","off","prodSwiperCommon","prodCommonSwiperEl","speed","scrollbar","freeMode","keyboard","swiperControlEl","prodCommonNavSwiperEl","is","spaceBetween","prodTextSwiperEl","window","setSwitchListBtn","tg","undefined","get","swiper","update","add","foldBox","foldOnOff","foldClose","eventSwiperEl","observeParents","css","slidesPerGroup","loop","popContainer","activeContents","data","autoOverflowContents"],"mappings":"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","file":"ui_product_ink.min.js","sourcesContent":["/*\n * name : ui_product_ink.js\n * desc : 상품 공통 자바스크립트\n * writer : glim\n * create : 2021/11/30\n * update :\n * -\n */\n\n$(window).on('load', function () {\n\tprodInfoThumbSwiper();\n});\n\n$(function () {\n\tsetProdDetailAnchor();\n\treviewTabAnchor();\n\n\tsetProdTitleMoreBtn();\n\tsetCommentList();\n\tprodSwiperCommon();\n\t\n\n\t// 뷰 토글 버튼 이벤트 설정\n\tKyoboBookPub.ink.setSwitchListBtn(function(tg) {\n\t\tif(tg.hasClass('view_type_img')){\n\t\t\tif($('.prod_swiper_wrap').get(0).swiper !== undefined)  $('.prod_swiper_wrap').get(0).swiper.update();\n\t\t}else{\n\t\t\tif($('.prod_swiper_text').get(0).swiper !== undefined) $('.prod_swiper_text').get(0).swiper.update();\n\t\t}\n\t});\n\n\t// 옵션 선택시 폴딩 닫힘\n\t$('.fold_select_item').add('.fold_select_prd').on('click', function(){\n\t\tvar foldBox = $(this).closest('.fold_box');\n\t\tKyoboBookPub.ink.foldOnOff().foldClose(foldBox);\n\t});\n\n\t// event swiper\n\tif($('.event_swiper_wrap').length > 0){\n\t\t$('.event_swiper_wrap').each(function () {\n\t\t\tvar eventSwiperEl = $(this);\n\t\t\tif ($('.swiper-slide', eventSwiperEl).length > 1) {\n\t\t\t\tvar eventSwiper = new CustomSwiper(eventSwiperEl.find('.swiper-container').get(0), {\n\t\t\t\t\tslidesPerView: 'auto',\n\t\t\t\t\tspeed: 500,\n\t\t\t\t\tscrollbar: {\n\t\t\t\t\t\tel: $('.swiper-scrollbar', eventSwiperEl)[0],\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} else{\n\t\t\t\t$('.swiper-scrollbar', eventSwiperEl).remove();\n\t\t\t}\n\t\t});\n\t}\n\n\t// 리뷰 내 리뷰 썸네일 swiper\n\t$('.comment_swiper_wrap .swiper-container').each(function(){\n\t\tif ($(this).find('.swiper-slide').length > 2){\n\t\t\tvar reviewSwiper = new CustomSwiper(this, {\n\t\t\t\tobserver: true,\n\t\t\t\tobserveParents: true,\n\t\t\t\tslidesPerView: 'auto',\n\t\t\t\tnavigation: {\n\t\t\t\t\tnextEl: $(this).siblings('.swiper-button-next'),\n\t\t\t\t\tprevEl: $(this).siblings('.swiper-button-prev'),\n\t\t\t\t},\n\t\t\t});\n\t\t} else {\n\t\t\t$(this).siblings('.swiper-button-next, .swiper-button-prev').css('display', 'none');\n\t\t}\n\t});\n\n\t// 북카드\n\tvar bookCardSwiper = new CustomSwiper('.book_card_swiper .swiper-container', {\n\t\tslidesPerView: 'auto',\n\t\tslidesPerGroup: 2,\n\t\tobserver: true,\n\t\tobserveParents: true,\n\t\tloop: true,\n\t\tspeed: 500,\n\t\tnavigation: {\n\t\t\tnextEl: '.book_card_swiper .swiper-button-next',\n\t\t\tprevEl: '.book_card_swiper .swiper-button-prev',\n\t\t},\n\t});\n\n\t// 함께 구매한 책\n\tvar withThisSwiper = new CustomSwiper('.slide_list_with_this', {\n\t\tslidesPerView: 'auto',\n\t\tspeed: 500,\n\t\tfreeMode: true,\n\t\tscrollbar: {\n\t\t\tel: $('.slide_list_with_this').find('.swiper-scrollbar')[0],\n\t\t},\n\t});\n\n\t// 이 책의 시리즈\n\tvar writerBooksSwiper = new CustomSwiper('.slide_writer_books', {\n\t\tslidesPerView: 'auto',\n\t\tspeed: 500,\n\t\tfreeMode: true,\n\t\tscrollbar: {\n\t\t\tel: $('.slide_writer_books').find('.swiper-scrollbar')[0],\n\t\t},\n\t});\n\n\t// 문장수집\n\tvar killingPartSwiper = new CustomSwiper('.killing_part_swiper .swiper-container', {\n\t\tslidesPerView: 'auto',\n\t\tloop: true,\n\t\tspeed: 500,\n\t\tobserver: true,\n\t\tobserveParents: true,\n\t\tnavigation: {\n\t\t\tnextEl: '.killing_part_swiper .swiper-button-next',\n\t\t\tprevEl: '.killing_part_swiper .swiper-button-prev',\n\t\t},\n\t});\n\n\t// 다른 강연 / 동영상 등 컨텐츠 텍스트 링크 리스트\n\tif($('.person_contents_swiper .swiper-slide').length > 1){\n\t\tvar personContentsSwiper = new CustomSwiper('.person_contents_swiper', {\n\t\t\tslidesPerView: 1,\n\t\t\tspaceBetween: 20,\n\t\t\tspeed: 500,\n\t\t\tnavigation: {\n\t\t\t\tnextEl: $('.control_person_contents').find('.swiper_control_box .swiper-button-next')[0],\n\t\t\t\tprevEl: $('.control_person_contents').find('.swiper_control_box .swiper-button-prev')[0],\n\t\t\t},\n\t\t\tpagination: {\n\t\t\t\tel: $('.control_person_contents').find('.swiper_control_box .swiper-pagination')[0],\n\t\t\t\ttype: \"fraction\",\n\t\t\t\tformatFractionCurrent: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t\tformatFractionTotal: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t} else {\n\t\t$('.control_person_contents').css('display', 'none');\n\t}\n\n\t// 인물 리스트 (강연자 / 제작자 / 공연 / 동행자 등)\n\tif($('.person_list_area .swiper-container .swiper-slide').length > 1){\n\t\t\tvar personListSwiper = new CustomSwiper('.person_list_area .swiper-container', {\n\t\t\tslidesPerView: 1,\n\t\t\tspaceBetween: 20,\n\t\t\tspeed: 500,\n\t\t\tnavigation: {\n\t\t\t\tnextEl: $('.person_list_area').find('.swiper_control_box .swiper-button-next')[0],\n\t\t\t\tprevEl: $('.person_list_area').find('.swiper_control_box .swiper-button-prev')[0],\n\t\t\t},\n\t\t});\n\t} else {\n\t\t$('.person_list_area').find('.swiper_control_box').css('display', 'none');\n\t}\n\n\t// 함께 하는 상품\n\tif($('.prod_related_swiper .swiper-slide').length > 1){\n\t\tvar personContentsSwiper = new CustomSwiper('.prod_related_swiper', {\n\t\t\tslidesPerView: 1,\n\t\t\tspaceBetween: 20,\n\t\t\tspeed: 500,\n\t\t\tnavigation: {\n\t\t\t\tnextEl: $('.control_prod_related').find('.swiper_control_box .swiper-button-next')[0],\n\t\t\t\tprevEl: $('.control_prod_related').find('.swiper_control_box .swiper-button-prev')[0],\n\t\t\t},\n\t\t\tpagination: {\n\t\t\t\tel: $('.control_prod_related').find('.swiper_control_box .swiper-pagination')[0],\n\t\t\t\ttype: \"fraction\",\n\t\t\t\tformatFractionCurrent: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t\tformatFractionTotal: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t} else {\n\t\t$('.control_prod_related').css('display', 'none');\n\t}\n\n\t// 결합상품 팝업\n\t$('#popCombineProdDetail').on('dialogopen', function(){\n\t\tvar popContainer = $(this);\n\t\t$('.portrait_img_box', popContainer).each(function () {\n\t\t\tvar imgTg = $(this);\n\t\t\tKyoboBookPub.ink.checkImagePortrait(imgTg);\n\t\t});\n\n\t\t$('.detail_view_control .btn_view_control', popContainer).on('click', function(){\n\t\t\t$('.detail_view_control .btn_view_control', popContainer).removeClass('active');\n\t\t\t$(this).addClass('active');\n\t\t\tvar activeContents = $('.'+$(this).data('combine-contents'));\n\n\t\t\tactiveContents.siblings().removeClass('active');\n\t\t\tactiveContents.addClass('active');\n\n\t\t\tif ($(this).data('combine-contents') === 'combine_prod_review'){\n\t\t\t\tsetCommentList();\n\t\t\t\tKyoboBookPub.ink.autoOverflowContents(popContainer);\n\t\t\t}\n\t\t});\n\t});\n});\n\n// 상품 정보 영역 swiper\nfunction prodInfoThumbSwiper() {\n\tvar prodThumbContainer = $('.prod_thumb_swiper_wrap');\n\n\t$('.portrait_img_box').each(function () {\n\t\tvar imgTg = $(this);\n\t\tvar imgContainer = $(this).closest('.blur_img_wrap');\n\t\tKyoboBookPub.ink.checkImagePortrait(imgTg, imgContainer);\n\t});\n\n\t$('.blur_img_wrap').each(function () {\n\t\tif ($(this).hasClass('landscape')) {\n\t\t\tnew blurify({\n\t\t\t\timages: $(this).find('.blur_img_box img'),\n\t\t\t\tblur: 6,\n\t\t\t\tmode: 'auto',\n\t\t\t});\n\t\t}\n\t});\n\n\tvar prodThumbSwiper;\n\tif ($('.swiper-slide', prodThumbContainer).length > 1) {\n\t\tprodThumbContainer.addClass('active');\n\t\tprodThumbSwiper = new CustomSwiper(prodThumbContainer.find('.swiper-container'), {\n\t\t\tinit: false,\n\t\t\tslidesPerView: 1,\n\t\t\teffect: 'fade',\n\t\t\tnavigation: {\n\t\t\t\tnextEl: prodThumbContainer.find('.swiper_control_box .swiper-button-next')[0],\n\t\t\t\tprevEl: prodThumbContainer.find('.swiper_control_box .swiper-button-prev')[0],\n\t\t\t},\n\t\t\tpagination: {\n\t\t\t\tel: prodThumbContainer.find('.swiper_control_box .swiper-pagination')[0],\n\t\t\t\ttype: 'fraction',\n\t\t\t\tformatFractionCurrent: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t\tformatFractionTotal: function (number) {\n\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tprodThumbSwiper.init();\n\n\t\tprodThumbSwiper.on('slideChange', function () {\n\t\t\tif (prodThumbSwiper.activeIndex === 0) {\n\t\t\t\t$('.btn_swiper_floating.prev', prodThumbContainer).addClass('disabled');\n\t\t\t\t$('.btn_swiper_floating.next', prodThumbContainer).removeClass('disabled');\n\t\t\t} else if (prodThumbSwiper.activeIndex === $('.swiper-slide', prodThumbContainer).length - 1) {\n\t\t\t\t$('.btn_swiper_floating.next', prodThumbContainer).addClass('disabled');\n\t\t\t\t$('.btn_swiper_floating.prev', prodThumbContainer).removeClass('disabled');\n\t\t\t} else {\n\t\t\t\t$('.btn_swiper_floating.next', prodThumbContainer).removeClass('disabled');\n\t\t\t\t$('.btn_swiper_floating.prev', prodThumbContainer).removeClass('disabled');\n\t\t\t}\n\t\t})\n\n\t\t$('.btn_swiper_floating', prodThumbContainer).on('click', function () {\n\t\t\tif ($(this).hasClass('prev')) {\n\t\t\t\t$(this).siblings().removeClass('disabled');\n\n\t\t\t\tif ($(this).hasClass('disabled')) $(this).removeClass('disabled');\n\t\t\t\tprodThumbSwiper.slideTo(prodThumbSwiper.activeIndex - 1);\n\n\t\t\t\tif (prodThumbSwiper.activeIndex === 0) {\n\t\t\t\t\t$(this).addClass('disabled');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$(this).siblings().removeClass('disabled');\n\n\t\t\t\tif ($(this).hasClass('disabled')) $(this).removeClass('disabled');\n\t\t\t\tprodThumbSwiper.slideTo(prodThumbSwiper.activeIndex + 1);\n\n\t\t\t\tif (prodThumbSwiper.activeIndex === $('.swiper-slide', prodThumbContainer).length - 1) {\n\t\t\t\t\t$(this).addClass('disabled');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\t$('.btn_swiper_floating', prodThumbContainer).remove();\n\t\t$('.swiper_control_box', prodThumbContainer).remove();\n\t}\n\n\tprodThumbContainer.on({\n\t\t'mouseenter': function () {\n\t\t\tprodThumbContainer.addClass('hover');\n\t\t},\n\t\t'mouseleave': function () {\n\t\t\tprodThumbContainer.removeClass('hover');\n\t\t}\n\t});\n}\n\n// 상품 상단 - 리뷰 영역 선택 시 하단 리뷰로 이동\nfunction reviewTabAnchor() {\n\tif ($('.prod_review_box .btn_go_review').length > 0) {\n\t\t$('.prod_review_box .btn_go_review').on('click', function () {\n\t\t\tvar reviewOffsetTop;\n\t\t\treviewOffsetTop = Math.floor($('#scrollSpyProdReview').offset().top) - 71;\n\t\t\tconsole.log(reviewOffsetTop)\n\t\t\t$('html, body').stop().animate({scrollTop: reviewOffsetTop}, 300);\n\t\t});\n\t}\n}\n\n// 상품상세 앵커탭 기능\nfunction setProdDetailAnchor() {\n\tif ($('.tab_wrap.prod_detail_body').length > 0) {\n\t\tvar _tabLinks;\n\t\t_tabLinks = $('.tab_wrap.prod_detail_body > .tab_list_wrap .tabs .tab_item .tab_link');\n\n\t\t// 옵션영역 펼치기\n\t\t$('.btn_option_more', '.prod_option_info_wrap').on('click', function () {\n\t\t\tvar optionSelectBox = $(this).closest('.prod_option_info_wrap');\n\n\t\t\tif (optionSelectBox.hasClass('active')) {\n\t\t\t\toptionSelectBox.removeClass('active');\n\t\t\t\t$(this).find('.hidden').text('옵션 선택 영역 접기');\n\t\t\t} else {\n\t\t\t\toptionSelectBox.addClass('active');\n\t\t\t\t$(this).find('.hidden').text('옵션 선택 영역 펼치기');\n\t\t\t}\n\t\t});\n\n\t\t// 상품 상세 탭 링크 클릭시 해당 위치로 이동\n\t\t_tabLinks.on('click.product', function (event) {\n\t\t\tvar targetId, offsetTop;\n\t\t\tevent.preventDefault();\n\n\t\t\ttargetId = event.currentTarget.getAttribute('href');\n\t\t\toffsetTop = $(targetId).offset().top - 71;\n\t\t\t$('html, body').stop().animate({scrollTop: offsetTop}, 300);\n\t\t});\n\n\t\t// 상세 컨텐츠 블럭별 class 값 변경 Observer\n\t\tvar observer = new MutationObserver(function (mutations) {\n\t\t\tmutations.forEach(function (mutation) {\n\t\t\t\tif (mutation.attributeName === 'class') {\n\t\t\t\t\tvar target, currentClassList;\n\t\t\t\t\ttarget = mutation.target;\n\t\t\t\t\tcurrentClassList = target.classList.value;\n\t\t\t\t\tif (target.dataset.prevClass !== currentClassList) {\n\t\t\t\t\t\ttarget.dataset.prevClass = currentClassList;\n\n\t\t\t\t\t\tsetTabBtnActive();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// 스크롤에 따라 탭 active 상태 변경\n\t\tfunction setTabBtnActive() {\n\t\t\tvar activeIndex;\n\t\t\tactiveIndex = $('.prod_detail_contents .tab_content.sps-blw').length - 1;\n\n\t\t\t_tabLinks.parent().removeClass('active');\n\t\t\tif (activeIndex !== -1) {\n\t\t\t\t_tabLinks.eq(activeIndex).parent().addClass('active');\n\t\t\t}\n\t\t}\n\n\t\tdocument.querySelectorAll('.prod_detail_contents .tab_content.sps').forEach(function (target) {\n\t\t\ttarget.dataset.prevClass = target.classList;\n\t\t\tobserver.observe(target, {attributes: true});\n\t\t});\n\t}\n}\n\n// 상품 상세 상단 타이틀 더보기 버튼 - 한 개만 노출 되도록\nfunction setProdTitleMoreBtn() {\n\tvar overflowEl, overflowElCnt;\n\toverflowEl = $('.prod_detail_title_wrap .auto_overflow_wrap.overflow');\n\toverflowElCnt = overflowEl.length;\n\n\tif (overflowElCnt > 1) {\n\t\toverflowEl.each(function (index) {\n\t\t\tif (index < overflowElCnt - 1) {\n\t\t\t\t$(this).find('> .auto_overflow_footer .btn_more_detail').remove();\n\t\t\t}\n\t\t});\n\t}\n\n}\n\n// 리뷰(댓글) 목록\nfunction setCommentList(){\n\tconsole.log('리뷰 : 0')\n\tvar reviewContents, reviewText, contentsOverflow, textOverflow, btnToggle;\n\tif ($('.comment_wrap').closest('.dialog_wrap.dialog_review').length > 0) return false; // 리뷰 팝업 내에선 실행 X\n\n\t\n\tconsole.log('리뷰 : 1')\n\tif($('.comment_wrap .comment_item').length > 0){\n\t\tconsole.log('리뷰 : 2')\n\t\t$('.comment_wrap .comment_item').each(function(){\n\t\t\tvar that = $(this);\n\t\t\tbtnToggle = $(this).find('.comment_footer .btn_more_body');\n\t\t\treviewContents = $(this).find('.comment_contents .comment_contents_inner');\n\n\t\t\t// 리뷰 목록 toggle overflow\n\t\t\tif (reviewContents.length > 0) {\n\t\t\t\treviewText = reviewContents.find('.comment_text');\n\t\t\t\ttextOverflow = reviewText[0].scrollHeight > reviewText.height();\n\t\t\t\tcontentsOverflow = reviewContents[0].scrollHeight > reviewContents.height();\n\n\t\t\t\tconsole.log(reviewText,textOverflow,contentsOverflow)\n\n\t\t\t\t// console.log($(this).index(), 'Contents : ', reviewContents[0].scrollHeight, reviewContents.height(), contentsOverflow, '///', 'Text : ', reviewText[0].scrollHeight, reviewText.height(), textOverflow);\n\t\t\t\tif(contentsOverflow || textOverflow) {\n\t\t\t\t\tthat.addClass('overflow');\n\n\t\t\t\t\tbtnToggle.off('click').on('click', function(){\n\t\t\t\t\t\tif(that.hasClass('active')){\n\t\t\t\t\t\t\tthat.removeClass('active');\n\t\t\t\t\t\t\t$(this).removeClass('active').find('.text').text('펼치기');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.addClass('active');\n\t\t\t\t\t\t\t$(this).addClass('active').find('.text').text('접기');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthat.removeClass('overflow');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// 리뷰 이미지 비율 체크\n\t\t\t$(this).find('.comment_swiper_wrap .portrait_img_box').each(function(){\n\t\t\t\tvar imgTg = $(this);\n\t\t\t\tKyoboBookPub.ink.checkImagePortrait(imgTg);\n\t\t\t});\n\t\t});\n\t}\n}\n\n// 상품상세 스와이퍼 공통\nfunction prodSwiperCommon(){\n\t// 스크롤\n\tif($('.prod_swiper_wrap').length > 0) {\n\t\t$('.prod_swiper_wrap').each(function () {\n\t\t\tvar prodCommonSwiperEl = $(this);\n\t\t\tif ($('.swiper-slide', prodCommonSwiperEl).length > 1) {\n\t\t\t\tvar prodCommonSwiper = new CustomSwiper(prodCommonSwiperEl, {\n\t\t\t\t\tslidesPerView: 'auto',\n\t\t\t\t\tspeed: 500,\n\t\t\t\t\tscrollbar: {\n\t\t\t\t\t\tel: $('.swiper-scrollbar', prodCommonSwiperEl)[0],\n\t\t\t\t\t},\n\t\t\t\t\tfreeMode: true,\n\t\t\t\t\tkeyboard: true,\n\t\t\t\t});\n\n\t\t\t}\n\t\t});\n\t}\n\n\t// 네비 있음\n\tif($('.prod_nav_swiper_wrap').length > 0) {\n\t\t$('.prod_nav_swiper_wrap').each(function () {\n\t\t\tvar prodCommonNavSwiperEl = $(this);\n\t\t\tvar swiperControlEl;\n\t\t\tprodCommonNavSwiperEl.parent().is('.product_detail_area') ? swiperControlEl = prodCommonNavSwiperEl.closest('.product_detail_area').find('.swiper_control_box') : swiperControlEl = prodCommonNavSwiperEl.closest('.prod_related_swiper_wrap').find('.swiper_control_box');\n\n\t\t\tif ($('.swiper-slide', prodCommonNavSwiperEl).length > 1) {\n\t\t\t\tvar prodCommonNavSwiper = new CustomSwiper(prodCommonNavSwiperEl, {\n\t\t\t\t\tspaceBetween: 20,\n\t\t\t\t\tspeed: 500,\n\t\t\t\t\tnavigation: {\n\t\t\t\t\t\tnextEl: swiperControlEl.find('.swiper-button-next')[0],\n\t\t\t\t\t\tprevEl: swiperControlEl.find('.swiper-button-prev')[0],\n\t\t\t\t\t},\n\t\t\t\t\tpagination: {\n\t\t\t\t\t\tel: swiperControlEl.find('.swiper-pagination')[0],\n\t\t\t\t\t\ttype: 'fraction',\n\t\t\t\t\t\tformatFractionCurrent: function (number) {\n\t\t\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformatFractionTotal: function (number) {\n\t\t\t\t\t\t\treturn KyoboBookPub.ink.setPrependZero(number, 2);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tswiperControlEl.remove();\n\t\t\t}\n\t\t});\n\t}\n\n\t// 스크롤\n\tif($('.prod_swiper_text').length > 0) {\n\t\t$('.prod_swiper_text').each(function () {\n\t\t\tvar prodTextSwiperEl = $(this);\n\t\t\tif ($('.swiper-slide', prodTextSwiperEl).length > 2) {\n\t\t\t\tvar prodTextwiper = new CustomSwiper(prodTextSwiperEl, {\n\t\t\t\t\tslidesPerView: 'auto',\n\t\t\t\t\tspeed: 500,\n\t\t\t\t\tscrollbar: {\n\t\t\t\t\t\tel: $('.swiper-scrollbar', prodTextSwiperEl)[0],\n\t\t\t\t\t},\n\t\t\t\t\tfreeMode: true,\n\t\t\t\t\tkeyboard: true,\n\t\t\t\t});\n\n\t\t\t}\n\t\t});\n\t}\n}\n"]}